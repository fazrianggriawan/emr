<div class="row">
    <div class="col p-2 bd rounded">
        <p-tabView [(activeIndex)]="tabIndex" (onChange)="changingTab($event)" >
            <p-tabPanel>
                <ng-template pTemplate="header">
                    <span class="tx-16 tx-normal pl-3 pr-3"><i class="bi bi-slash-circle mr-1"></i> Non-Racikan</span>
                </ng-template>
                <div>
                    <p-table [value]="dataObatBiasa" dataKey="nama" responsiveLayout="scroll" styleClass="p-datatable-sm">
                        <ng-template pTemplate="header">
                            <tr>
                                <th>Nama Obat</th>
                                <th [width]="300">Signa</th>
                                <th [width]="100">Jumlah</th>
                                <th [width]="80"></th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-item let-ri="rowIndex">
                            <tr>
                                <td>
                                    <p-cellEditor>
                                        <ng-template pTemplate="output">
                                            <div class="p-1" style="min-height: 30px;">{{item.obat.nama}}</div>
                                        </ng-template>
                                    </p-cellEditor>
                                </td>
                                <td pEditableColumn>
                                    <p-cellEditor>
                                        <ng-template pTemplate="input">
                                            <input pInputText type="text" name="lamaKeluhan" style="width: 100%;" [(ngModel)]="item.signaText">
                                        </ng-template>
                                        <ng-template pTemplate="output">
                                            <div class="p-1 bg-gray-100" style="min-height: 30px;">{{item.signaText}}</div>
                                        </ng-template>
                                    </p-cellEditor>
                                </td>
                                <td pEditableColumn>
                                    <p-cellEditor>
                                        <ng-template pTemplate="input">
                                            <input pInputText type="number" name="lamaKeluhan" style="width: 100px;" [(ngModel)]="item.jumlah">
                                        </ng-template>
                                        <ng-template pTemplate="output">
                                            <div class="p-1 bg-gray-100" style="min-height: 30px;">{{item.jumlah}}</div>
                                        </ng-template>
                                    </p-cellEditor>
                                </td>
                                <td>
                                    <button class="btn btn-xs btn-icon btn-outline-secondary" (click)="deleteObatNonRacikan(ri)"><i class="bi bi-trash"></i></button>
                                </td>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="footer">
                            <tr *ngIf="dataObatBiasa.length == 0">
                                <td colspan="4" style="font-weight: normal; text-align: center; color: gray;">Tidak ada keluhan saat ini.</td>
                            </tr>
                        </ng-template>
                    </p-table>

                    <!-- <p-table selectionMode="single" styleClass="p-datatable-striped p-datatable-sm" [style]="{ height: 'calc(100% - 310px)' }"
                        [value]="dataObatBiasa">
                        <ng-template pTemplate="header">
                            <tr>
                                <th>Nama Obat</th>
                                <th>Signa</th>
                                <th [width]="100">Jumlah</th>
                                <th [width]="80"></th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-item let-ri="rowIndex">
                            <tr [pSelectableRow]="item">
                                <td>{{item.obat.nama}}</td>
                                <td>{{item.signaText}}</td>
                                <td>{{item.jumlah}}</td>
                                <td>
                                    <button class="btn btn-xs btn-icon btn-outline-secondary" (click)="deleteObatNonRacikan(ri)"><i class="bi bi-trash"></i></button>
                                </td>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="footer">
                            <tr *ngIf="dataObatBiasa.length == 0">
                                <td colspan="4" style="font-weight: normal; text-align: center; color: gray;">Tidak ada obat saat ini.</td>
                            </tr>
                        </ng-template>
                    </p-table> -->
                </div>
            </p-tabPanel>

            <p-tabPanel>
                <ng-template pTemplate="header">
                    <span class="tx-16 tx-normal pl-3 pr-3"><i class="bi bi-clipboard-plus mr-1"></i> Racikan</span>
                </ng-template>
                <div class="row container-resep-racikan">
                    <div class="col-12 bd p-2 rounded mb-2 clickable" [ngClass]="{'active': selectedResepRacikan == 0}" (click)="selectResepRacikan(0)">
                        <p-table selectionMode="single" styleClass="p-datatable-striped p-datatable-sm" [style]="{ height: 'calc(100% - 310px)' }"
                            [value]="dataObatRacikan">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>Nama Obat</th>
                                    <th [width]="100">Takaran</th>
                                    <th [width]="100"></th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-item let-ri="rowIndex">
                                <tr [pSelectableRow]="item">
                                    <td>{{item.obat.nama}}</td>
                                    <td>
                                        <input type="text" class="form-control" value="{{item.takaran}}">
                                    </td>
                                    <td>
                                        <button class="btn btn-xs btn-icon btn-outline-secondary" (click)="deleteObatRacikan(ri)"><i class="bi bi-trash"></i></button>
                                    </td>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="footer">
                                <tr *ngIf="dataObatRacikan.length == 0">
                                    <td colspan="4" style="font-weight: normal; text-align: center; color: gray;">Tidak ada obat saat ini.</td>
                                </tr>
                                <tr *ngIf="dataObatRacikan.length > 0">
                                    <td colspan="4">
                                        Catatan :
                                        <input type="text" class="form-control">
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </div>
            </p-tabPanel>
        </p-tabView>
    </div>
</div>