<div class="row mg-t-10">
    <div class="col-auto border-right">
        <h5>Data Surat Kontrol</h5>
    </div>
    <div class="col-auto">
        Bulan : <p-calendar (ngModelChange)="getDataSuratKontrol()" [(ngModel)]="tanggal" view="month" dateFormat="M yy" appendTo="body" [style]="{width:'150px'}" [readonlyInput]="true"></p-calendar>
    </div>
    <div class="col-auto">
        <app-form-surat-kontrol></app-form-surat-kontrol>
    </div>
</div>

<div class="row mg-t-10">
    <div class="col">
        <p-table
            [value]="dataSuratKontrol"
            [scrollable]="true"
            [rowHover]="true"
            scrollHeight="15vw"
            responsiveLayout="scroll"
            styleClass="p-datatable-sm p-datatable-striped">

            <ng-template pTemplate="header">
                <tr class="bg-gray-300">
                    <th style="min-width: 180px">No. Surat Kontrol / SPRI</th>
                    <th style="min-width: 180px">No. SEP</th>
                    <th style="min-width: 100px">Jns. Pelayanan</th>
                    <th style="min-width: 100px">Poli Asal</th>
                    <th style="min-width: 100px">Poli Tujuan</th>
                    <th style="min-width: 100px">Dokter</th>
                    <th style="min-width: 100px">Tgl. Kontrol</th>
                    <th style="min-width: 100px">Tgl. Terbit</th>
                    <th>&nbsp;</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
                <tr>
                    <td style="min-width: 180px;">{{item.noSuratKontrol}}</td>
                    <td style="min-width: 180px;">{{item.noSepAsalKontrol}}</td>
                    <td style="min-width: 100px;">{{item.jnsPelayanan | uppercase}}</td>
                    <td style="min-width: 100px;">{{item.namaPoliAsal}}</td>
                    <td style="min-width: 100px;">{{item.namaPoliTujuan}}</td>
                    <td style="min-width: 100px;">{{item.namaDokter}}</td>
                    <td style="min-width: 100px;">
                        {{appService.dateHuman(item.tglRencanaKontrol)}}
                    </td>
                    <td style="min-width: 100px;">
                        {{appService.dateHuman(item.tglTerbitKontrol)}}
                    </td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary mg-r-5" (click)="delete(item.noSuratKontrol)">
                            <i class="bi bi-printer"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger" (click)="delete(item.noSuratKontrol)">
                            <i class="bi bi-trash"></i>
                        </button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>