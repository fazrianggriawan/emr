<div class="row">
    <div class="col-auto border-right">
        <h5>Pemeriksaan Radiologi</h5>
    </div>
    <div class="col-auto border-right">
        <app-cari-registrasi [showForm]="false"></app-cari-registrasi>
    </div>
    <div class="col-auto">
        <button class="btn btn-primary mg-r-5">
            <i class="bi bi-plus-lg"></i> Tambah Pemeriksaan
        </button>
        <button class="btn" (click)="dialogHasilRadiologi = true">
            <i class="bi bi-file-check"></i> Hasil Pemeriksaan
        </button>
    </div>
</div>
<div class="row">
    <div class="col">
        <app-billing [header]="false" [showTarif]="false"></app-billing>
    </div>
</div>
<div class="row mt-3">
    <div class="col-3">
        <div class="border-bottom pb-2">
            Tanggal :
            <p-calendar [(ngModel)]="tanggal" dateFormat="dd-mm-yy"></p-calendar>
        </div>
        <div class="mt-2">
            <p-selectButton [options]="filter" [(ngModel)]="selectedFilter" optionValue="id" optionLabel="name"></p-selectButton>
        </div>
        <div class="row mt-2">
            <div class="col">
                <div class="shadow-sm p-3 rounded mb-2 border clickable hover" *ngFor="let item of dataOrder">
                    <div><span class="text-muted">Nama : </span> {{item.nama | uppercase}} </div>
                    <div><span class="text-muted">No. RM : </span> {{item.norm}}</div>
                    <div><span class="badge badge-light pl-3 pr-3">No.Registrasi </span> {{item.noreg}}</div>
                    <div><span class="badge badge-light pl-3 pr-3">Ruangan </span> {{item.nama_ruangan}}</div>
                    <div><span class="badge badge-light pl-3 pr-3">Dokter </span> {{item.dokter}}</div>
                </div>
            </div>
        </div>
    </div>
    <div class="col rounded shadow border p-3">
        <h5 class="border-bottom pb-3">Data Permintaan Pemeriksaan</h5>
        <div class="mt-3">
            <button class="btn btn-sm btn-primary mr-2" [disabled]="true"><i class="bi bi-check-circle"></i> Proses Pemeriksaan</button>
            <button class="btn btn-sm btn-outline-secondary mr-2" [disabled]="true"><i class="bi bi-file-earmark-plus"></i> Input Hasil</button>
            <button class="btn btn-sm btn-outline-secondary mr-2" [disabled]="true"><i class="bi bi-clock"></i> Riwayat</button>
            <button class="btn btn-sm btn-outline-secondary mr-2" [disabled]="true"><i class="bi bi-trash"></i> Batalkan</button>
        </div>
        <div class="mt-3">
            <p-table
                [value]="dataOrder"
                [(selection)]="selectedPemeriksaan"
                [rowHover]="true"
                dataKey="id"
                scrollHeight="600px"
                responsiveLayout="scroll"
                styleClass="p-datatable-sm table-striped table-hover bd">
                <ng-template pTemplate="header">
                    <tr>
                        <th></th>
                        <th>Pemeriksaan</th>
                        <th>Status</th>
                        <th>Billing</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-item let-i="rowIndex">
                    <tr class="p-selectable-row">
                        <td>
                            <p-tableCheckbox [value]="item"></p-tableCheckbox>
                        </td>
                        <td>{{item.name}}</td>
                        <td></td>
                        <td>
                            <a class="link text-primary"><i class="bi bi-plus"></i> Input Billing</a>
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="footer">
                    <tr *ngIf="dataOrder.length == 0">
                        <td colspan="4" style="font-weight: normal; text-align: center; color: gray;">Tidak ada order saat ini.</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>

    </div>
    <div class="col rounded border bg-white shadow pt-3 ml-3">

    </div>
</div>

<p-dialog
    [(visible)]="dialogHasilRadiologi"
    header="Hasil Radiologi"
    [modal]="true"
    position="top"
    [breakpoints]="{'1920px': '65vw', '1280px': '85vw', '1028px': '95vw'}"
    appendTo="body">
    <app-hasil-radiologi></app-hasil-radiologi>
</p-dialog>