<app-vclaim></app-vclaim>
<p-tabView>
    <p-tabPanel header="Registrasi" styleClass="p-0">
        <div class="row" @fadeIn>
            <div class="col p-3 bg-gray-500 mb-3">
                <div class="row">
                    <div class="col-auto border-right border-light">
                        <button class="btn btn-sm btn-secondary mr-1"><i class="bi bi-search mr-1"></i> Cari Pasien</button>
                        <button class="btn btn-sm btn-secondary mr-1"><i class="bi bi-table mr-1"></i> Data Registrasi</button>
                        <button class="btn btn-sm btn-secondary mr-1"><i class="bi bi-credit-card mr-1"></i> Vclaim BPJS</button>
                        <button class="btn btn-sm btn-secondary mr-1" [disabled]="!form.get('noreg')?.value" (click)="menu.toggle($event)"><i class="bi bi-printer mr-1"></i> Print <i class="bi bi-chevron-down ml-2"></i></button>
                        <p-menu #menu [popup]="true" appendTo="body" [model]="menuPrint"></p-menu>
                        <button class="btn btn-sm btn-secondary mr-1"><i class="bi bi-arrow-repeat mr-1"></i> Refresh</button>
                    </div>
                    <div class="col-auto">
                        <button class="btn btn-sm btn-primary mr-1" [disabled]="form.invalid"><i class="bi bi-save mr-1"></i> Simpan</button>
                        <button class="btn btn-sm btn-primary mr-1" [disabled]="form.invalid"><i class="bi bi-save mr-1"></i> Update</button>
                    </div>
                    <div class="col tx-right">
                        <button class="btn btn-sm btn-secondary mr-1"><i class="bi bi-trash mr-1"></i> Batal</button>
                    </div>
                </div>
            </div>
            <div class="w-100"></div>
            <div class="col-md-10">
                <div class="row">
                    <div class="col">
                        <form [formGroup]="form">
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    RS <span *ngIf="form.get('rs')?.errors" class="bi bi-exclamation-circle-fill tx-danger ml-1 tx-13"></span>
                                </label>
                                <div class="col">
                                    <p-dropdown [options]="rs" optionLabel="name" optionValue="id" [autoDisplayFirst]="false" formControlName="rs" [style]="{width: '100%'}"></p-dropdown>
                                </div>
                            </div>
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    No. RM <span *ngIf="form.get('norm')?.errors" class="bi bi-exclamation-circle-fill tx-danger ml-1 tx-13"></span>
                                </label>
                                <div class="col">
                                    <input type="text" class="form-control">
                                </div>
                            </div>
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    No. Kartu BPJS / Asuransi <span *ngIf="form.get('noAsuransi')?.errors" class="bi bi-exclamation-circle-fill tx-danger ml-1 tx-13"></span>
                                </label>
                                <div class="col">
                                    <input type="text" class="form-control">
                                </div>
                            </div>
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    NIK
                                </label>
                                <div class="col">
                                    <input type="text" class="form-control">
                                </div>
                            </div>
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    Nama <span *ngIf="form.get('nama')?.errors" class="bi bi-exclamation-circle-fill tx-danger ml-1 tx-13"></span>
                                </label>
                                <div class="col">
                                    <input type="text" class="form-control" readonly>
                                </div>
                            </div>
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    Tgl. Lahir & Usia
                                </label>
                                <div class="col">
                                    <input type="text" class="form-control" readonly>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="col">
                        <form [formGroup]="form">
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    Tanggal <span *ngIf="form.get('tanggal')?.errors" class="bi bi-exclamation-circle-fill tx-danger ml-1 tx-13"></span>
                                </label>
                                <div class="col">
                                    <p-calendar [showIcon]="true"></p-calendar>
                                </div>
                            </div>
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    No. SEP
                                </label>
                                <div class="col">
                                    <input type="text" class="form-control">
                                </div>
                            </div>
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    Poliklinik <span *ngIf="form.get('poliklinik')?.errors" class="bi bi-exclamation-circle-fill tx-danger ml-1 tx-13"></span>
                                </label>
                                <div class="col">
                                    <p-dropdown [options]="results" optionLabel="name" formControlName="dokter" [style]="{width: '100%'}"></p-dropdown>
                                </div>
                            </div>
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    Dokter <span *ngIf="form.get('dokter')?.errors" class="bi bi-exclamation-circle-fill tx-danger ml-1 tx-13"></span>
                                </label>
                                <div class="col">
                                    <p-dropdown [options]="results" optionLabel="name" formControlName="dokter" [style]="{width: '100%'}"></p-dropdown>
                                </div>
                            </div>
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    Jenis Pembayaran <span *ngIf="form.get('jnsPembayaran')?.errors" class="bi bi-exclamation-circle-fill tx-danger ml-1 tx-13"></span>
                                </label>
                                <div class="col">
                                    <p-dropdown [options]="results" optionLabel="name" formControlName="dokter" [style]="{width: '100%'}"></p-dropdown>
                                </div>
                            </div>
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    Catatan
                                </label>
                                <div class="col">
                                    <input type="text" class="form-control" formControlName="catatan">
                                </div>
                            </div>
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    No. Registrasi
                                </label>
                                <div class="col">
                                    <input type="text" class="form-control" formControlName="noreg" readonly>
                                </div>
                            </div>
                            <div class="row mb-2">
                                <label class="col-5 col-form-label">
                                    Status
                                </label>
                                <div class="col">
                                    <input type="text" class="form-control" formControlName="status" readonly>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </p-tabPanel>
    <p-tabPanel header="Billing">
        <app-form-billing></app-form-billing>
        <div class="row">
            <div class="col p-3 bg-gray-500 mb-2">
                <div class="row">
                    <div class="col-4">
                        <button class="btn btn-sm btn-secondary mr-1"><i class="bi bi-table mr-1"></i> Master Tarif</button>
                        <button class="btn btn-sm btn-secondary mr-1"><i class="bi bi-printer mr-1"></i> Print <i class="bi bi-chevron-down ml-1"></i></button>
                    </div>
                    <div class="col pl-0">
                        <div class="tx-20 tx-semibold tx-dark">Total : <span class="ml-2">120,000</span></div>
                    </div>
                </div>
            </div>
            <div class="w-100"></div>
            <div class="col-4">
                <p-dropdown
                            placeholder="Kategori"
                            [options]="categoryTarif"
                            optionLabel="namaCatTarif"
                            optionValue="cat_tarifID"
                            [(ngModel)]="selectedCategoryTarif"
                            (ngModelChange)="billingService.getTarifByCategory(selectedCategoryTarif)"
                            [filter]="true"
                            styleClass="mb-1"
                            [style]="{width: '100%'}">
                        </p-dropdown>
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Cari Tarif...">
                    <div class="input-group-append">
                        <button class="btn btn-secondary"><i class="bi bi-search"></i></button>
                    </div>
                </div>
                <p-table [value]="tarif" styleClass="p-datatable-sm table-striped bg-light"
                    selectionMode="single"
                    responsiveLayout="scroll"
                    [scrollable]="true"
                    [rows]="25"
                    [style]="{minHeight: '420px'}"
                    scrollHeight="380px">
                    <ng-template pTemplate="header">
                        <tr>
                            <th width="200px">Nama Tarif</th>
                            <th>Harga</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-item>
                        <tr [pSelectableRow]="item">
                            <td width="200px">{{item.namaTarif | uppercase}}</td>
                            <td>{{item.harga | number}}</td>
                        </tr>
                    </ng-template>
                </p-table>
                <div class="pt-2">
                    <div class="tx-secondary pt-1 pb-1">Paket Tarif : </div>
                    <button class="btn btn-xs btn-light mr-1 mb-1"><i class="bi bi-archive-fill"></i> Pemeriksaan Dokter</button>
                    <button class="btn btn-xs btn-light mr-1 mb-1"><i class="bi bi-archive-fill"></i> Pasien Baru</button>
                    <button class="btn btn-xs btn-secondary mr-1 mb-1"><i class="bi bi-gear"></i></button>
                </div>
            </div>
            <div class="col p-0">
                <table class="table table-striped table-hover border-bottom">
                    <thead>
                        <tr>
                            <th>Tanggal</th>
                            <th>Nama Tarif</th>
                            <th>Pelaksana Medis / Non Medis</th>
                            <th>Harga</th>
                            <th>Qty</th>
                            <th>Discount</th>
                            <th>Total</th>
                            <th>&nbsp;</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>11 Jun 2022</td>
                            <td>KONSULTASI DOKTER SPESIALIS</td>
                            <td>
                                <button class="btn btn-xs btn-light tx-14 p-0 pl-3 pr-3 w-100">dr. Bebet Sunaryo, S.pd</button>
                                <button class="btn btn-xs btn-light tx-danger tx-14 p-0 pl-3 pr-3 w-100">-- Pilih Perawat --</button>
                            </td>
                            <td>250,000</td>
                            <td>
                                <button class="btn btn-xs btn-light tx-14 p-0 pl-3 pr-3 w-100">1</button>
                            </td>
                            <td>
                                <button class="btn btn-xs btn-light tx-14 p-0 pl-3 pr-3 w-100">0</button>
                            </td>
                            <td>250,000</td>
                            <td>
                                <button class="btn btn-xs btn-icon btn-secondary"><i class="bi bi-list"></i></button>
                            </td>
                        </tr>
                        <tr>
                            <td>11 Jun 2022</td>
                            <td>KARTU PASIEN</td>
                            <td>
                                <button class="btn btn-xs btn-light tx-14 p-0 pl-3 pr-3 w-100">dr. Bebet Sunaryo, S.pd</button>
                                <button class="btn btn-xs btn-light tx-14 p-0 pl-3 pr-3 w-100">Perawat Bedah</button>
                            </td>
                            <td>250,000</td>
                            <td>
                                <button class="btn btn-xs btn-light tx-14 p-0 pl-3 pr-3 w-100">1</button>
                            </td>
                            <td>
                                <button class="btn btn-xs btn-light tx-14 p-0 pl-3 pr-3 w-100">0</button>
                            </td>
                            <td>250,000</td>
                            <td>
                                <button class="btn btn-xs btn-icon btn-secondary"><i class="bi bi-list"></i></button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </p-tabPanel>
    <p-tabPanel header="Riwayat Pelayanan">
        <div class="row">
            <div class="col pt-3">
                <div class="timeline-group tx-14">
                    <div class="timeline-label bg-gray-200">Hari ini, 18 Sept 2022</div>
                    <div class="timeline-item">
                        <div class="timeline-time">10:30</div>
                        <div class="timeline-body">
                            <h6 class="mb-0">POLIKLINIK ANAK</h6>
                            <p class="tx-primary">dr. Bebet Sunaryo S.Pd</p>
                            <p class="mb-0">Jenis Kunjungan : Kontrol Kembali</p>
                            <p>Diagnosa : Z10 - Vascular dementia of acute onset</p>
                            <p class="badge badge-secondary pt-1 pb-1 tx-12">Tunai</p>
                        </div><!-- timeline-body -->
                    </div><!-- timeline-item -->
                    <div class="timeline-item">
                        <div class="timeline-time">11:30</div>
                        <div class="timeline-body">
                            <h6 class="mb-0">LABORATORIUM</h6>
                            <p class="mb-0">Pemeriksaan : SGOT, SGPT, DARAH LENGKAP</p>
                        </div><!-- timeline-body -->
                    </div><!-- timeline-item -->
                    <div class="timeline-item">
                        <div class="timeline-time">14:45</div>
                        <div class="timeline-body">
                            <h6 class="mb-0">FARMASI</h6>
                            <p class="mb-0">Panadol, Amoxan</p>
                            <div class="mb-3">&nbsp;</div>
                        </div><!-- timeline-body -->
                    </div><!-- timeline-item -->

                    <div class="timeline-label bg-gray-200">10 Agustus 2022</div>
                    <div class="timeline-item">
                        <div class="timeline-time">10:30</div>
                        <div class="timeline-body">
                            <h6 class="mb-0">POLIKLINIK ANAK</h6>
                            <p class="tx-primary">dr. Bebet Sunaryo S.Pd</p>
                            <p class="mb-0">Jenis Kunjungan : Kontrol Kembali</p>
                            <p>Diagnosa : Z10 - Vascular dementia of acute onset</p>
                            <p>SEP : <button class="btn btn-xs btn-icon btn-light">R1203V00012319992</button></p>
                            <p class="badge badge-secondary pt-1 pb-1 tx-12">BPJS Kesehatan</p>
                        </div><!-- timeline-body -->
                    </div><!-- timeline-item -->
                    <div class="timeline-item">
                        <div class="timeline-time">11:30</div>
                        <div class="timeline-body">
                            <h6 class="mb-0">LABORATORIUM</h6>
                            <p class="mb-0">Pemeriksaan : SGOT, SGPT, DARAH LENGKAP</p>
                            <p></p>
                        </div><!-- timeline-body -->
                    </div><!-- timeline-item -->
                    <div class="timeline-item">
                        <div class="timeline-time">14:45</div>
                        <div class="timeline-body">
                            <h6 class="mb-0">FARMASI</h6>
                            <p class="mb-0">Panadol, Amoxan</p>
                            <p></p>
                        </div><!-- timeline-body -->
                    </div><!-- timeline-item -->

                </div>
            </div>
        </div>
    </p-tabPanel>

</p-tabView>